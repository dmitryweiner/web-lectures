<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>React - Использование стилей и ассетов</title>
    <link rel="shortcut icon" href="./favicon.ico"/>
    <link rel="stylesheet" href="./dist/reveal.css" />
    <link rel="stylesheet" href="./dist/theme/serif.css" id="theme" />
    <link rel="stylesheet" href="./css/highlight/zenburn.css" />

  </head>
  <body>
    <div class="reveal">
      <div class="slides"><section  data-markdown><script type="text/template">

## Стили и ассеты в React

![css is awesome](assets/react-styling/css-awesome.png)

[Дмитрий Вайнер](https://github.com/dmitryweiner)</script></section><section  data-markdown><script type="text/template">
### Задачи
* Разработка интерфейса &mdash; это не только скучные формы и кнопки.
* Нужно решать следующие задачи:
    * Стилизовать элементы.
    * Отрисовать картинки.
    * Показать красивые шрифты.</script></section><section  data-markdown><script type="text/template">
### Disclaimer
* Дальше разговор пойдёт про приложение, созданное с помощью ```create-react-app```.
* В случае кастомного конфига Webpack можно всё настроить так, как хочется.</script></section><section  data-markdown><script type="text/template">
### Варианты использования ассетов
* Assets (активы) &mdash; вспомогательные файлы для изменения внешнего вида компонентов.
* Варианты, где они лежат:
  * В папке ```public``` лежит то, что будет использоваться многими компонентами:
    * Общие иконки.
    * Шрифты.
    * Стили страницы.
  * В папке компонента лежит то, что используется только самим компонентом.</script></section><section  data-markdown><script type="text/template">
### Подключение ассетов из `public`
```shell
├── public
│   ├── cat.jpg
└── src
    ├── components
    │   └── CatView.jsx
```
```jsx
export default function CatView() {
    return <><img srс="/cat.jpg" /></>;
}
```</script></section><section  data-markdown><script type="text/template">
### Подключение ассетов из папки компонента
```shell
    ├── components
    │   └── CatView
    │       ├── cat.jpg
    │       └── CatView.jsx
```
```jsx
import cat from "./cat.jpg";

export default function CatView() {
  return <><img src={cat} /></>;
}
```</script></section><section  data-markdown><script type="text/template">
### Стили
* Стили бывают **глобальные**: влияют на все компоненты сразу.
* И **scoped**-стили: действуют только на текущий компонент.</script></section><section  data-markdown><script type="text/template">
### Глобальные стили
```shell
└── src
    ├── App.css
    ├── App.js
```
```jsx
import './App.css';

function App() {
  return (
    <div className="App">
      ...
    </div>
  );
}
```</script></section><section  data-markdown><script type="text/template">
### Scoped-стили
* Файл стилей должен иметь префикс `module`:
```css
/* ./styles.module.css */
.cat {
    width: 90vh;
    height: 90vh;
}
```
* Класса указывают как свойство импортированного объекта:
```jsx
import cat from "./cat.jpg";
import styles from "./styles.module.css";
export default function CatView() {
    return <><img src={cat} className={styles.cat}/></>;
}
```
* [Подробнее](https://create-react-app.dev/docs/adding-a-css-modules-stylesheet/).</script></section><section  data-markdown><script type="text/template">
### Как работают scoped-стили?
* После рендера класс дополняется случайным набором символов, уникальным для каждого компонента:

```html
<img src="/static/media/cat.7ced8a3057dbb05c800c.jpg" 
     class="styles_cat__HjvK7">
```

```css
.styles_cat__HjvK7 {
  width: 90vh;
  height: 90vh;
}
```</script></section><section  data-markdown><script type="text/template">
### Динамические стили</script></section><section  data-markdown><script type="text/template">
### Использование SASS/SCSS
* [](https://create-react-app.dev/docs/adding-a-sass-stylesheet).</script></section><section  data-markdown><script type="text/template">
### Альтернативы
* Стилизовать компоненты можно и внутри сами этих компонентов.
* Иногда это удобнее, т.е. стили лежат там же, где и использующий их код.</script></section><section  data-markdown><script type="text/template">
### css-in-js
https://cssinjs.org/?v=v10.9.0</script></section><section  data-markdown><script type="text/template">
### styled-components
https://styled-components.com/</script></section><section  data-markdown><script type="text/template">
### Emotion
https://github.com/emotion-js/emotion</script></section><section  data-markdown><script type="text/template">
### Полезные ссылки 
* https://create-react-app.dev/docs/adding-a-stylesheet</script></section></div>
    </div>

    <script src="./dist/reveal.js"></script>

    <script src="./plugin/markdown/markdown.js"></script>
    <script src="./plugin/highlight/highlight.js"></script>
    <script src="./plugin/zoom/zoom.js"></script>
    <script src="./plugin/notes/notes.js"></script>
    <script src="./plugin/math/math.js"></script>
    <script>
      function extend() {
        var target = {};
        for (var i = 0; i < arguments.length; i++) {
          var source = arguments[i];
          for (var key in source) {
            if (source.hasOwnProperty(key)) {
              target[key] = source[key];
            }
          }
        }
        return target;
      }

      // default options to init reveal.js
      var defaultOptions = {
        controls: true,
        progress: true,
        history: true,
        center: true,
        transition: 'default', // none/fade/slide/convex/concave/zoom
        plugins: [
          RevealMarkdown,
          RevealHighlight,
          RevealZoom,
          RevealNotes,
          RevealMath
        ]
      };

      // options from URL query string
      var queryOptions = Reveal().getQueryHash() || {};

      var options = extend(defaultOptions, {}, queryOptions);
    </script>


    <script>
      Reveal.initialize(options);
    </script>
  </body>
</html>
